name: "~Sandbox"

on:
  workflow_dispatch:

jobs:
  set-json:
    runs-on: ubuntu-22.04
    outputs:
      ALL_TAGS: ${{ steps.setjson.ALL_TAGS }}
    steps:
      - name: Set JSON object
        id: setjson
        run: |
          ALL_TAGS_JSON="ALL_TAGS={" \
          \"TAG_JAX_MEALKIT\": \"TAG_JAX_MEALKIT_VALUE\"," \
          \"TAG_JAX_FINAL\": \"TAG_JAX_FINAL_VALUE\","
          "}"
          echo $ALL_TAGS_JSON >> $GITHUB_OUTPUT
  
  get-json:
    runs-on: ubuntu-22.04
    needs: set-json
    strategy:
      matrix:
        include:
          - TAG: JAX
            VALUE: MEALKIT
          - TAG: JAX
            VALUE: FINAL
    steps:
      - name: echo values
        run: |
          VAL=${{ fromJson(needs.set-json.outputs.ALL_TAGS).TAG_[format('{0}_{1}}', matrix.TAG, matrix.VALUE)] }}
          echo VAL=${VAL}



