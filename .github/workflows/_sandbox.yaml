name: "~Sandbox"

on:
  push:

jobs:
  set-json:
    runs-on: ubuntu-22.04
    outputs:
      ALL_TAGS: ${{ steps.setjson.outputs.ALL_TAGS }}
    steps:
      - name: Set JSON object
        id: setjson
        shell: bash -x -e {0}
        run: |   
          ALL_TAGS="{\"a\":1}"
          echo $ALL_TAGS
          echo "ALL_TAGS=${ALL_TAGS}" >> $GITHUB_OUTPUT
          cat $GITHUB_OUTPUT
  
  get-json:
    runs-on: ubuntu-22.04
    needs: set-json
    strategy:
      matrix:
        include:
          - CONTAINER_TAG: ABC
            CONTAINER_IMAGE: ABCD
          - CONTAINER_TAG: XX
            CONTAINER_IMAGE: XXX
    steps:
      - name: echo values
        run: |
          echo ALL_TAGS=${{ fromJson(needs.set-json.outputs.ALL_TAGS) }}
          echo TAG_A=${{ fromJson(needs.set-json.outputs.ALL_TAGS).a }}
          




