name: "~Sandbox"

on:
  push:

jobs:
  set-json:
    runs-on: ubuntu-22.04
    outputs:
      ALL_TAGS: ${{ steps.setjson.outputs.ALL_TAGS }}
    steps:
      - name: Set JSON object
        id: setjson
        shell: bash -x -e {0}
        run: |
          A=$(cat << EOF
            {"a": "1",
            "b": "2"}
          EOF
          )
          echo "ALL_TAGS=${A}" >> $GITHUB_OUTPUT
  
  get-json:
    runs-on: ubuntu-22.04
    needs: set-json
    strategy:
      matrix:
        include:
          - TAG: JAX
            CONTAINER_IMAGE: MEALKIT
          - TAG: PAX
            CONTAINER_IMAGE: FINAL
    steps:
      - name: echo values
        run: |
          echo ALL_TAGS=${{ fromJson(needs.set-json.outputs.ALL_TAGS) }}
          echo TAG_A=${{ fromJson(needs.set-json.outputs.ALL_TAGS).a }}
          echo TAG_B=${{ fromJson(needs.set-json.outputs.ALL_TAGS).b }}
          echo $TAG_A
          




